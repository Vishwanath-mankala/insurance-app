<app-custom-navbar
  brand="I Am Insured!"
  [userRole]="'customer'"
  [links]="[
    { label: 'Home', path: '/home', roles: ['agent', 'customer', 'admin'] },
    { label: 'Admin Panel', path: '/admin', roles: ['admin'] }
  ]"
>
</app-custom-navbar>

<div class="claim-container">
  <h2>Submit a Claim</h2>

  <form (ngSubmit)="submitClaim()" #claimForm="ngForm">
    <!-- Incident Date -->
    <div class="form-group">
      <label for="incidentDate">Incident Date</label>
      <input
        type="datetime-local"
        id="incidentDate"
        [(ngModel)]="incidentDate"
        name="incidentDate"
        required
      />
    </div>

    <!-- Description -->
    <div class="form-group">
      <label for="description">Description</label>
      <textarea
        id="description"
        [(ngModel)]="description"
        name="description"
        rows="4"
        required
      ></textarea>
    </div>

    <!-- Amount Claimed -->
    <div class="form-group">
      <label for="amountClaimed">Amount Claimed (₹)</label>
      <input
        type="number"
        id="amountClaimed"
        [(ngModel)]="amountClaimed"
        name="amountClaimed"
        required
      />
      <!-- Show min insured if available -->
      <p *ngIf="minInsured" class="info-text">
        ⚠️ Minimum insured amount for this policy: 
        <span class="highlight">₹{{ minInsured }}</span>
      </p>
    </div>

    <!-- Submit Button -->
    <button type="submit" class="btn-submit">Submit Claim</button>
  </form>
</div>
